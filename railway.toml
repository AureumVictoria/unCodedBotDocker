# railway.toml - Konfiguration für den 1-Klick-Deploy

# Globale Build-Einstellungen
[build]
builder = "DOCKER" # Wir sagen Railway, dass es Dockerfiles verwenden soll

# Globale Deployment-Einstellungen
[deploy]
restartPolicy = "ON_FAILURE" # Startet Dienste bei einem Fehler neu
restartPolicyMaxRetries = 10  # Bis zu 10 Neustart-Versuche

# --- Definition des Trading-Bot-Dienstes ---
[[services]]
name = "trading-bot" # Name des Dienstes in Railway
dockerfilePath = "./trading-bot/Dockerfile" # Pfad zum Dockerfile
# Der Startbefehl wird direkt aus dem CMD im Dockerfile übernommen

# --- Definition des Telegram-Bot-Dienstes ---
[[services]]
name = "telegram-bot"
dockerfilePath = "./telegram-bot/Dockerfile" # Stelle sicher, dass dieser Pfad und die Datei existieren
# Der Startbefehl wird direkt aus dem CMD im Dockerfile übernommen

# --- Definition des Datenbank-Dienstes ---
[plugins.postgres]
# Dies erstellt automatisch einen von Railway verwalteten PostgreSQL-Dienst