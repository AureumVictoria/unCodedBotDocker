# railway.toml
# Finale, robusteste Konfiguration für den automatisierten Deploy von GitHub.
# Diese Version verwendet die offizielle Standard-Syntax für Datenbank-Plugins.

# Globale Build-Einstellungen
[build]
# Wir weisen Railway an, die Dockerfiles in den jeweiligen Ordnern zu verwenden.
builder = "DOCKER"

# Globale Deployment-Einstellungen
[deploy]
# Startet Dienste bei einem Fehler automatisch neu.
restartPolicy = "ON_FAILURE"
# Versucht den Neustart bis zu 10 Mal.
restartPolicyMaxRetries = 10

# --- Definition des Trading-Bot-Dienstes ---
[[services]]
name = "trading-bot"
dockerfilePath = "./trading-bot/Dockerfile"

# --- Definition des Telegram-Bot-Dienstes ---
[[services]]
name = "telegram-bot"
dockerfilePath = "./telegram-bot/Dockerfile"

# --- Definition des Datenbank-Dienstes ---
# Dies ist die offizielle Standard-Syntax. Sie erstellt einen von Railway
# verwalteten PostgreSQL-Dienst. In der Railway-Oberfläche wird dieser
# Dienst standardmäßig "PostgreSQL" heißen.
[plugins.postgres]
